{"changed":false,"filter":false,"title":"mision2_2.py","tooltip":"/mision2/mision2_2.py","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":50,"column":4},"end":{"row":50,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":8},"end":{"row":51,"column":28},"action":"insert","lines":["bPadre.turn(100, 45)","        bHijo.turn(-100, 45)"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":26},"end":{"row":50,"column":27},"action":"remove","lines":["5"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":25},"end":{"row":50,"column":26},"action":"remove","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":25},"end":{"row":50,"column":26},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":26},"end":{"row":50,"column":27},"action":"insert","lines":["8"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":27},"end":{"row":50,"column":28},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"remove","lines":["5"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":25},"end":{"row":51,"column":26},"action":"remove","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":25},"end":{"row":51,"column":26},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"insert","lines":["8"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":29},"end":{"row":52,"column":0},"action":"insert","lines":["",""]},{"start":{"row":52,"column":0},"end":{"row":52,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":8},"end":{"row":52,"column":9},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":9},"end":{"row":52,"column":10},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":10},"end":{"row":52,"column":11},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":11},"end":{"row":52,"column":12},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":12},"end":{"row":52,"column":13},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":13},"end":{"row":52,"column":14},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":14},"end":{"row":52,"column":15},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":15},"end":{"row":52,"column":16},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":52,"column":17},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":17},"end":{"row":52,"column":18},"action":"insert","lines":["7"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":18},"end":{"row":52,"column":19},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":19},"end":{"row":52,"column":20},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":8},"end":{"row":51,"column":0},"action":"insert","lines":["",""]},{"start":{"row":51,"column":0},"end":{"row":51,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":8},"end":{"row":50,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":8},"end":{"row":50,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":4},"end":{"row":50,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":4},"end":{"row":50,"column":5},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":5},"end":{"row":50,"column":6},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":6},"end":{"row":50,"column":7},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":4},"end":{"row":50,"column":7},"action":"remove","lines":["eli"]},{"start":{"row":50,"column":4},"end":{"row":50,"column":8},"action":"insert","lines":["elif"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":8},"end":{"row":50,"column":9},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":9},"end":{"row":50,"column":10},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":10},"end":{"row":50,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":14},"end":{"row":50,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":15},"end":{"row":50,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":16},"end":{"row":50,"column":17},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":17},"end":{"row":50,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":18},"end":{"row":50,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":19},"end":{"row":50,"column":20},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":20},"end":{"row":50,"column":21},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":4},"end":{"row":55,"column":5},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":5},"end":{"row":55,"column":6},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":6},"end":{"row":55,"column":7},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":4},"end":{"row":55,"column":7},"action":"remove","lines":["eli"]},{"start":{"row":55,"column":4},"end":{"row":55,"column":8},"action":"insert","lines":["elif"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":8},"end":{"row":55,"column":9},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":9},"end":{"row":55,"column":10},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":10},"end":{"row":55,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":11},"end":{"row":55,"column":12},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":12},"end":{"row":55,"column":13},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":9},"end":{"row":55,"column":13},"action":"remove","lines":["samp"]},{"start":{"row":55,"column":9},"end":{"row":55,"column":16},"action":"insert","lines":["samples"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":16},"end":{"row":55,"column":17},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":17},"end":{"row":55,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":19},"end":{"row":55,"column":20},"action":"insert","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":21},"end":{"row":56,"column":0},"action":"insert","lines":["",""]},{"start":{"row":56,"column":0},"end":{"row":56,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":4},"end":{"row":56,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":8},"end":{"row":56,"column":33},"action":"insert","lines":["arm= Motor(brick, PORT_A)"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":33},"end":{"row":57,"column":0},"action":"insert","lines":["",""]},{"start":{"row":57,"column":0},"end":{"row":57,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":8},"end":{"row":58,"column":0},"action":"insert","lines":["",""]},{"start":{"row":58,"column":0},"end":{"row":58,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":8},"end":{"row":59,"column":20},"action":"insert","lines":["arm.reset_position(True)","\t\t\t\tarm.turn(20, 50)"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":3},"end":{"row":59,"column":4},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":2},"end":{"row":59,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":18},"end":{"row":60,"column":0},"action":"insert","lines":["",""]},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":2},"end":{"row":61,"column":21},"action":"insert","lines":["arm.reset_position(True)\t\t","\t\t\t\tarm.turn(-20, 50)"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":3},"end":{"row":61,"column":4},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":2},"end":{"row":61,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":63,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":64,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":4},"end":{"row":63,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":8},"end":{"row":67,"column":0},"action":"insert","lines":["arm.reset_position(True)","\t\tarm.turn(20, 50)","\t\tarm.reset_position(True)\t\t","\t\tarm.turn(-20, 50)",""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":21},"end":{"row":55,"column":22},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":21},"end":{"row":50,"column":22},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":0},"end":{"row":36,"column":29},"action":"remove","lines":["    sync.run(100) # El sensor de choque lo tiene detras","","    # 2.En los siguientes cinco segundos esperamos contactos","    samples = 0","    current_time = time.time()","    while (time.time() - current_time)<5.0:","        if(sensor.is_pressed()):","            samples+=1","","    print \"samples: \",samples"]},{"start":{"row":27,"column":0},"end":{"row":51,"column":29},"action":"insert","lines":["   sync.run(70) # El sensor de choque lo tiene detras    ","","    # Esperamos a que vuelva a ser False","    while sensor.is_pressed() == True: ","        pass; ","","    # 2.En los siguientes cinco segundos esperamos contactos","    samples = 0","    current_time = time.time()","","    print \"Recolecto Samples\"","    puedoRecolectar = False","    puedoSerPulsado = True","","    while (time.time() - current_time)<5.0:                ","        if(puedoSerPulsado and sensor.is_pressed()):","            puedoRecolectar = True","            puedoSerPulsado = False","        if(puedoRecolectar):","            puedoRecolectar = False","            samples+=1","        if(sensor.is_pressed() == False):","            puedoSerPulsado = True","","    print \"samples: \",samples"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":16},"end":{"row":55,"column":17},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":17},"end":{"row":60,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":18},"end":{"row":65,"column":19},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":18},"end":{"row":70,"column":19},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":18},"end":{"row":70,"column":19},"action":"remove","lines":["="]},{"start":{"row":60,"column":17},"end":{"row":60,"column":18},"action":"remove","lines":["="]},{"start":{"row":65,"column":18},"end":{"row":65,"column":19},"action":"remove","lines":["="]},{"start":{"row":60,"column":18},"end":{"row":60,"column":19},"action":"insert","lines":["="]},{"start":{"row":65,"column":18},"end":{"row":65,"column":19},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":86,"column":14},"action":"remove","lines":["#!/usr/bin/env python","","import nxt.bluesock","from nxt.sensor import *","import time","","","def connect(idmac):","","    m = nxt.locator.Method(False, True, False, False)","    b = nxt.bluesock.BlueSock(idmac).connect()","    return b","","","def run(brick, line):","","    # 1.Encedemos sensor de choque","    sensor = Touch(brick, PORT_1)","    ","    # Encender Motor B y Motor C, sentido hacia adelante","    bPadre = Motor(brick, PORT_B)","    bHijo = Motor(brick, PORT_C)","    sync = SynchronizedMotors(bPadre, bHijo, 0)\t","    ","    while sensor.is_pressed(): ","        pass;    ","    ","   sync.run(70) # El sensor de choque lo tiene detras    ","","    # Esperamos a que vuelva a ser False","    while sensor.is_pressed() == True: ","        pass; ","","    # 2.En los siguientes cinco segundos esperamos contactos","    samples = 0","    current_time = time.time()","","    print \"Recolecto Samples\"","    puedoRecolectar = False","    puedoSerPulsado = True","","    while (time.time() - current_time)<5.0:                ","        if(puedoSerPulsado and sensor.is_pressed()):","            puedoRecolectar = True","            puedoSerPulsado = False","        if(puedoRecolectar):","            puedoRecolectar = False","            samples+=1","        if(sensor.is_pressed() == False):","            puedoSerPulsado = True","","    print \"samples: \",samples","    ","    sync.brake()","    # 1. Giro 45 y continuar recto","    if(samples == 1):","        bPadre.turn(100, 45)","        bHijo.turn(-100, 45)","        sync.run(70)","    # 2. Giro 90 sentido contrario y continuar","    elif(samples == 2):","        bPadre.turn(-100, 90)","        bHijo.turn(100, 90)","        sync.run(70)","    # 3. Giro 180 y continuar","    elif(samples == 3):","        bPadre.turn(100, 180)","        bHijo.turn(-100, 180)","        sync.run(70)","    # 4. Detener robot y mover brazo de arriba a abajo 2 veces","    elif(samples = 4):","        arm= Motor(brick, PORT_A)","        ","        arm.reset_position(True)","\t\tarm.turn(20, 50)","\t\tarm.reset_position(True)\t\t","\t\tarm.turn(-20, 50)","","        arm.reset_position(True)","\t\tarm.turn(20, 50)","\t\tarm.reset_position(True)\t\t","\t\tarm.turn(-20, 50)","","","if __name__=='__main__':","    brick= connect('00:16:53:09:46:3B')","    run(brick)"]},{"start":{"row":0,"column":0},"end":{"row":99,"column":14},"action":"insert","lines":["#!/usr/bin/env python","","import nxt.bluesock","from nxt.sensor import *","import time","from nxt.motor import *","import msvcrt","","","def connect(idmac):","","    m = nxt.locator.Method(False, True, False, False)","    b = nxt.bluesock.BlueSock(idmac).connect()","    return b","","","def run(brick):","","    # 1.Encedemos sensor de choque","    sensor = Touch(brick, PORT_1)","    ","    # Encender Motor B y Motor C, sentido hacia adelante","    bPadre = Motor(brick, PORT_B)","    bHijo = Motor(brick, PORT_C)","    sync = SynchronizedMotors(bPadre, bHijo, 0)\t","    ","    print \"Espero sensor de choque\"","    while sensor.is_pressed() == False: ","        pass;    ","    ","    sync.run(70) # El sensor de choque lo tiene detras    ","","    # Esperamos a que vuelva a ser False","    while sensor.is_pressed() == True: ","        pass; ","","    # 2.En los siguientes cinco segundos esperamos contactos","    samples = 0","    current_time = time.time()","","    print \"Recolecto Samples\"","","    # Con estos semaforos nos aseguramos recolectar los samples correctos","    puedoRecolectar = False","    puedoSerPulsado = True","","    while (time.time() - current_time)<5.0:                ","        if(puedoSerPulsado and sensor.is_pressed()):","            puedoRecolectar = True","            puedoSerPulsado = False","        if(puedoRecolectar):","            puedoRecolectar = False","            samples+=1","        if(sensor.is_pressed() == False):","            puedoSerPulsado = True","","    print \"samples: \",samples","    ","    sync.brake()","","    # 1. Giro 45 y continuar recto","    if(samples == 1):","        bPadre.turn(100, 45)","        bHijo.turn(-100, 45)","        sync.run(70)","    # 2. Giro 90 sentido contrario y continuar","    elif(samples == 2):","        bPadre.turn(-100, 90)","        bHijo.turn(100, 90)","        sync.run(70)","    # 3. Giro 180 y continuar","    elif(samples == 3):","        bPadre.turn(100, 180)","        bHijo.turn(-100, 180)","        sync.run(70)","    # 4. Detener robot y mover brazo de arriba a abajo 2 veces","    elif(samples == 4):","        arm= Motor(brick, PORT_A)","        ","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","    while True:            ","        if msvcrt.kbhit():","            key = msvcrt.getch()","            if(key == \"p\"):","                print \"PARO\"","                break;   ","    sync.brake()","","if __name__=='__main__':","    brick= connect('00:16:53:09:46:3B')","    run(brick)"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":26},"end":{"row":36,"column":31},"action":"remove","lines":["cinco"]},{"start":{"row":36,"column":26},"end":{"row":36,"column":27},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":27},"end":{"row":36,"column":28},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":28},"end":{"row":36,"column":29},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":39},"end":{"row":46,"column":40},"action":"remove","lines":["5"]},{"start":{"row":46,"column":39},"end":{"row":46,"column":40},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":99,"column":14},"action":"remove","lines":["#!/usr/bin/env python","","import nxt.bluesock","from nxt.sensor import *","import time","from nxt.motor import *","import msvcrt","","","def connect(idmac):","","    m = nxt.locator.Method(False, True, False, False)","    b = nxt.bluesock.BlueSock(idmac).connect()","    return b","","","def run(brick):","","    # 1.Encedemos sensor de choque","    sensor = Touch(brick, PORT_1)","    ","    # Encender Motor B y Motor C, sentido hacia adelante","    bPadre = Motor(brick, PORT_B)","    bHijo = Motor(brick, PORT_C)","    sync = SynchronizedMotors(bPadre, bHijo, 0)\t","    ","    print \"Espero sensor de choque\"","    while sensor.is_pressed() == False: ","        pass;    ","    ","    sync.run(70) # El sensor de choque lo tiene detras    ","","    # Esperamos a que vuelva a ser False","    while sensor.is_pressed() == True: ","        pass; ","","    # 2.En los siguientes dos segundos esperamos contactos","    samples = 0","    current_time = time.time()","","    print \"Recolecto Samples\"","","    # Con estos semaforos nos aseguramos recolectar los samples correctos","    puedoRecolectar = False","    puedoSerPulsado = True","","    while (time.time() - current_time)<2.0:                ","        if(puedoSerPulsado and sensor.is_pressed()):","            puedoRecolectar = True","            puedoSerPulsado = False","        if(puedoRecolectar):","            puedoRecolectar = False","            samples+=1","        if(sensor.is_pressed() == False):","            puedoSerPulsado = True","","    print \"samples: \",samples","    ","    sync.brake()","","    # 1. Giro 45 y continuar recto","    if(samples == 1):","        bPadre.turn(100, 45)","        bHijo.turn(-100, 45)","        sync.run(70)","    # 2. Giro 90 sentido contrario y continuar","    elif(samples == 2):","        bPadre.turn(-100, 90)","        bHijo.turn(100, 90)","        sync.run(70)","    # 3. Giro 180 y continuar","    elif(samples == 3):","        bPadre.turn(100, 180)","        bHijo.turn(-100, 180)","        sync.run(70)","    # 4. Detener robot y mover brazo de arriba a abajo 2 veces","    elif(samples == 4):","        arm= Motor(brick, PORT_A)","        ","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","    while True:            ","        if msvcrt.kbhit():","            key = msvcrt.getch()","            if(key == \"p\"):","                print \"PARO\"","                break;   ","    sync.brake()","","if __name__=='__main__':","    brick= connect('00:16:53:09:46:3B')","    run(brick)"]},{"start":{"row":0,"column":0},"end":{"row":99,"column":14},"action":"insert","lines":["#!/usr/bin/env python","","import nxt.bluesock","from nxt.sensor import *","import time","from nxt.motor import *","import msvcrt","","","def connect(idmac):","","    m = nxt.locator.Method(False, True, False, False)","    b = nxt.bluesock.BlueSock(idmac).connect()","    return b","","","def run(brick):","","    # 1.Encedemos sensor de choque","    sensor = Touch(brick, PORT_1)","    ","    # Encender Motor B y Motor C, sentido hacia adelante","    bPadre = Motor(brick, PORT_B)","    bHijo = Motor(brick, PORT_C)","    sync = SynchronizedMotors(bPadre, bHijo, 0)\t","    ","    print \"Espero sensor de choque\"","    while sensor.is_pressed() == False: ","        pass;    ","    ","    sync.run(70) # El sensor de choque lo tiene detras    ","","    # Esperamos a que vuelva a ser False","    while sensor.is_pressed() == True: ","        pass; ","","    # 2.En los siguientes cinco segundos esperamos contactos","    samples = 0","    current_time = time.time()","","    print \"Recolecto Samples\"","","    # Con estos semaforos nos aseguramos recolectar los samples correctos","    puedoRecolectar = False","    puedoSerPulsado = True","","    while (time.time() - current_time)<5.0:                ","        if(puedoSerPulsado and sensor.is_pressed()):","            puedoRecolectar = True","            puedoSerPulsado = False","        if(puedoRecolectar):","            puedoRecolectar = False","            samples+=1","        if(sensor.is_pressed() == False):","            puedoSerPulsado = True","","    print \"samples: \",samples","    ","    sync.brake()","","    # 1. Giro 45 y continuar recto","    if(samples == 1):","        bPadre.turn(100, 45)","        bHijo.turn(-100, 45)","        sync.run(70)","    # 2. Giro 90 sentido contrario y continuar","    elif(samples == 2):","        bPadre.turn(-100, 90)","        bHijo.turn(100, 90)","        sync.run(70)","    # 3. Giro 180 y continuar","    elif(samples == 3):","        bPadre.turn(100, 180)","        bHijo.turn(-100, 180)","        sync.run(70)","    # 4. Detener robot y mover brazo de arriba a abajo 2 veces","    elif(samples == 4):","        arm= Motor(brick, PORT_A)","        ","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","        arm.reset_position(True)","        arm.turn(20, 50)","        arm.reset_position(True)        ","        arm.turn(-20, 50)","","    while True:            ","        if msvcrt.kbhit():","            key = msvcrt.getch()","            if(key == \"p\"):","                print \"PARO\"","                break;   ","    sync.brake()","","if __name__=='__main__':","    brick= connect('00:16:53:09:46:3B')","    run(brick)"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":26},"end":{"row":36,"column":31},"action":"remove","lines":["cinco"]},{"start":{"row":36,"column":26},"end":{"row":36,"column":27},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":27},"end":{"row":36,"column":28},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":28},"end":{"row":36,"column":29},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":39},"end":{"row":46,"column":40},"action":"remove","lines":["5"]},{"start":{"row":46,"column":39},"end":{"row":46,"column":40},"action":"insert","lines":["2"]}]}]]},"ace":{"folds":[],"scrolltop":734.2993927001953,"scrollleft":0,"selection":{"start":{"row":46,"column":40},"end":{"row":46,"column":40},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":49,"state":"start","mode":"ace/mode/python"}},"timestamp":1429609636945}